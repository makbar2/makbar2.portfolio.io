<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noimageindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akbar Anwar porfolio site</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Liter&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

</head>
<body >
    <header >
        <nav>
            <ul class="flex-row nav-container">
                <li class="nav-item"><a href="#about">About</a></li>
                <li class="nav-item"><a href="#projects">Projects</a></li>
                <li class="nav-item"><a href="https://www.linkedin.com/in/mohammad-akbar-anwar-a20057207/">Linkedin</a></li>
            </ul>
        </nav>
    </header>
    <main class="content">
        <section id="about" >
            <div class="flex-row center  ">
                <h1>Akbar Anwar</h1>
                <div class="cool-rect subtitle">
                    <p class="">Full-Stack Developer</p>
                </div>
            </div>
          
            <h1 class="cool-rect title"> About me </h1>
            <div class="grid-about">
                <div>
                    <p>
                        Hi I am a Computer Science and Cybersecurity graduate, currently studying for a Master's degree. The programming frameworks and languages that I currently use are: 
                        Typescript, React and .NET.
                    </p>
                    <details>
                        <summary>About this website</summary>
                        <p>
                            To avoid repeating HTML, the card content is loaded from a JSON file. Then the data is rendered into the DOM (page).
                        </p>
                    </details>
                </div>
                <picture>
                    <img src="./assets/picture.jpg "  class="pfp" alt="picture of myself"/>
                </picture>
            </div>
        </section>
        <section>
            <h1 class="cool-rect title"> Freelance & Projects </h1>
            <div class="grid-projects" id="projects"></div>
        </section>
    </main>
    <footer class="site-footer">
        <div class="footer-container">
            <p>&copy; 2025 Mohammad Akbar Anwar. All rights reserved.</p>
            <p>
                <a href="mailto:moakbar202@gmail.com" aria-label="Send email to Mohammad Akbar Anwar">Contact</a> | 
                <a href="#about">About</a> | 
                <a href="#projects">Projects</a>
            </p>
            <p>
                <a href="https://github.com/moakbar202"  aria-label="Github Profile">
                <img src="assets/github-svgrepo-com.svg" alt="GitHub icon" class="footer-icon" />
            </a>
        </p>
        </div>
    </footer>
</body>
<script>
    async function loadProjectData()
    {
        try{
            const response =  await fetch("./cards.json");
            console.log(response);
            if(response.status !== 200)
            {
                throw new Error("Unable to fetch card data");
            }
            const data = await response.json();
            console.log(data);
            data.forEach(createCard);
        }catch(error )
        {
            console.error("Error loading project data:", error);
            createErrorMessage();
        }
    }
    
    function createCard(project) {
        const iconList = createIconList(project.icons);
        const githubIcon = project.github
            ? `<a href="${project.github}"><img src="assets/github-svgrepo-com.svg" class="icon"/></a>`
            : '';
        let element = `
        <div class="card">
            <h2 class="flex-row" style="justify-content:space-between">
                <div>
                    ${project.title}
                </div>
                <div>
                    ${githubIcon}
                </div>
            </h2>
            <picture class="flex-row">
                <img class="thumbnail" src="${project.thumbnail}"/>
            </picture>
            <div>
                ${iconList}
            </div>
            <p>
                ${project.description}
            </p> 
        `;

        if (project.page !== undefined) {
            element += `<a class="link-button" href="${project.page}">Read more</a> </div>`;
        } else {
            element += "</div>";
        }

        const projectSection = document.getElementById("projects");
        projectSection.innerHTML += element;
    }

    function createIconList(iconList)
    {
        let icons  = "";
        iconList.forEach(i => {
            icons += `
                <img src="${i.url}" alt="${i.name}" class="icon"/>`;
        });
        return icons;
    }

    function createErrorMessage()
    {
        const projectSection = document.getElementById("projects");
        projectSection.innerHTML = `
        <div class="error-message">
            <p>
                <span role="img" aria-label="warning">⚠️</span>
                Failed to load project data. Please try again later.
            </p>
            <p>
                If the issue persists, <a href="mailto:moakbar202@gmail.com">contact me</a>.
            </p>
        </div>
    `;
    }

    loadProjectData();
</script>
</html>